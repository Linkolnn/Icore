# üìö Day 5: Backend - Advanced Messaging Features

## üéØ –¶–µ–ª—å

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. **[Theory.md](Theory.md)** - –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã
   - Message Status Lifecycle
   - Typing Indicators Architecture
   - Cursor-based Pagination
   - Search Implementation

2. **[Practice.md](Practice.md)** - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º MongoDB
   - WebSocket —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
   - Typing Manager
   - Search –∏ Pagination

3. **[Checklist.md](Checklist.md)** - –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ü–æ—à–∞–≥–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## ‚è±Ô∏è –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- **–¢–µ–æ—Ä–∏—è**: 30 –º–∏–Ω—É—Ç
- **–ü—Ä–∞–∫—Ç–∏–∫–∞**: 3 —á–∞—Å–∞
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 30 –º–∏–Ω—É—Ç

## üîë –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å:
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å–∞–º–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- –†–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å typing indicators
- –î–µ–ª–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é –ø–∞–≥–∏–Ω–∞—Ü–∏—é
- –í–Ω–µ–¥—Ä—è—Ç—å –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å soft delete
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ real-time

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ backend –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd backend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
yarn install

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
yarn start:dev

# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
node test/e2e/message-status.test.js
```

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
backend/src/
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ messages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ message.schema.ts     # + status, editedAt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ update-message.dto.ts # –ù–æ–≤—ã–π DTO
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ search-messages.dto.ts # –ù–æ–≤—ã–π DTO
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messages.service.ts       # + –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages.controller.ts    # + –Ω–æ–≤—ã–µ endpoints
‚îÇ   ‚îî‚îÄ‚îÄ websocket/
‚îÇ       ‚îú‚îÄ‚îÄ websocket.gateway.ts      # + typing —Å–æ–±—ã—Ç–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ managers/
‚îÇ           ‚îî‚îÄ‚îÄ typing.manager.ts      # –ù–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îî‚îÄ‚îÄ common/
    ‚îî‚îÄ‚îÄ utils/
        ‚îî‚îÄ‚îÄ pagination.util.ts         # –ù–æ–≤–∞—è —É—Ç–∏–ª–∏—Ç–∞
```

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Day 6

–ü–æ—Å–ª–µ Day 5 –≤–∞—à backend –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –¥–ª—è:
- –†–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –º–µ–¥–∏–∞
- –ì–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –í–∏–¥–µ–æ–∑–≤–æ–Ω–∫–æ–≤
- Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
