# üê≥ Docker –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

> –ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ Docker –∏ –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

---

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Docker?

### –¢–µ—Ä–º–∏–Ω: Docker

**–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏**:
–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ **–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –∫–æ—Ä–∞–±–ª–µ**. –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —É–ø–∞–∫–æ–≤–∞–Ω –≥—Ä—É–∑, –∏ —ç—Ç–æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –º–æ–∂–Ω–æ:
- –ü–æ–≥—Ä—É–∑–∏—Ç—å –Ω–∞ –ª—é–±–æ–π –∫–æ—Ä–∞–±–ª—å
- –ü–µ—Ä–µ–≤–µ–∑—Ç–∏ –≤ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω—É
- –í—ã–≥—Ä—É–∑–∏—Ç—å –∏ –æ–Ω –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ

**Docker –¥–µ–ª–∞–µ—Ç —Ç–æ –∂–µ —Å–∞–º–æ–µ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏**:
- –£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ "–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä"
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ –ª—é–±–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- –ù–µ –≤–∞–∂–Ω–æ Windows, Mac –∏–ª–∏ Linux

### –ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:

```
–ë–µ–∑ Docker:
"–£ –º–µ–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç!" - "–£ –º–µ–Ω—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!"
–†–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Node.js, MongoDB, Redis...

–° Docker:
"–ó–∞–ø—É—Å–∫–∞–π docker-compose up"
–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ —É –≤—Å–µ—Ö!
```

---

## ü§î –ó–∞—á–µ–º Docker –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞?

### –ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ Docker:

```
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MongoDB –≤—Ä—É—á–Ω—É—é
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis –≤—Ä—É—á–Ω—É—é
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å MongoDB (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–∞—Ä–æ–ª—å, –ë–î)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend (–¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ MongoDB –∏ Redis)
6. –ó–∞–ø—É—Å—Ç–∏—Ç—å Frontend
7. –°–ª–µ–¥–∏—Ç—å —á—Ç–æ–±—ã –≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ –≤–º–µ—Å—Ç–µ

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–µ—Ç—Å—è ‚Üí –¥–æ–ª–≥–æ –∏—Å–∫–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É
```

### –†–µ—à–µ–Ω–∏–µ —Å Docker:

```
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É: docker-compose up
2. –í—Å—ë! üéâ

Docker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–∫–∞—á–∞–µ—Ç MongoDB
- –°–∫–∞—á–∞–µ—Ç Redis
- –ó–∞–ø—É—Å—Ç–∏—Ç –∏—Ö —Å –Ω—É–∂–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –ó–∞–ø—É—Å—Ç–∏—Ç Backend
- –ó–∞–ø—É—Å—Ç–∏—Ç Frontend
- –°–≤—è–∂–µ—Ç –≤—Å—ë –≤–º–µ—Å—Ç–µ
```

---

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

### 1. Docker Image (–û–±—Ä–∞–∑)

**–ß—Ç–æ —ç—Ç–æ**: "–ß–µ—Ä—Ç—ë–∂" –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**–ê–Ω–∞–ª–æ–≥–∏—è**: –†–µ—Ü–µ–ø—Ç –±–ª—é–¥–∞
```
–†–µ—Ü–µ–ø—Ç –ø–∏—Ü—Ü—ã:
1. –¢–µ—Å—Ç–æ
2. –¢–æ–º–∞—Ç–Ω—ã–π —Å–æ—É—Å
3. –°—ã—Ä
4. –ó–∞–ø–µ—á—å
```

**–í Docker**:
```dockerfile
FROM node:20
WORKDIR /app
COPY package.json .
RUN yarn install
COPY . .
CMD ["yarn", "start"]
```

### 2. Docker Container (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä)

**–ß—Ç–æ —ç—Ç–æ**: –ó–∞–ø—É—â–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–∑–∞.

**–ê–Ω–∞–ª–æ–≥–∏—è**: –ì–æ—Ç–æ–≤–∞—è –ø–∏—Ü—Ü–∞ –ø–æ —Ä–µ—Ü–µ–ø—Ç—É
```
–†–µ—Ü–µ–ø—Ç (Image) ‚Üí –ü—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∏ ‚Üí –ü–∏—Ü—Ü–∞ (Container)
```

**–í Docker**:
```bash
# –û–±—Ä–∞–∑ MongoDB ‚Üí –ó–∞–ø—É—Å—Ç–∏–ª–∏ ‚Üí –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å MongoDB
docker run mongo:7
```

### 3. Docker Compose

**–ß—Ç–æ —ç—Ç–æ**: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ **–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

**–ê–Ω–∞–ª–æ–≥–∏—è**: –ú–µ–Ω—é –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ
```
–ú–µ–Ω—é (docker-compose.yml):
- –ü–∏—Ü—Ü–∞ (MongoDB)
- –ù–∞–ø–∏—Ç–æ–∫ (Redis)
- –î–µ—Å–µ—Ä—Ç (Backend)
- –ö–æ—Ñ–µ (Frontend)

–û—Ñ–∏—Ü–∏–∞–Ω—Ç: "–ü—Ä–∏–Ω–µ—Å–∏—Ç–µ –≤—Å—ë –∏–∑ –º–µ–Ω—é!"
Docker Compose: "–ó–∞–ø—É—â—É –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã!"
```

**–í Docker**:
```yaml
services:
  mongodb:    # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å MongoDB
  redis:      # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Redis
  backend:    # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Backend
  frontend:   # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Frontend
```

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –Ω–∞ Arch Linux

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
sudo pacman -S docker docker-compose

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker --version
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: Docker version 24.x.x

docker-compose --version
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: Docker Compose version v2.x.x
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker service

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker –¥–µ–º–æ–Ω
sudo systemctl start docker

# –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ Docker –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã
sudo systemctl enable docker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Docker –∑–∞–ø—É—â–µ–Ω
sudo systemctl status docker
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: active (running)
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker

**–ó–∞—á–µ–º**: –ß—Ç–æ–±—ã –Ω–µ –ø–∏—Å–∞—Ç—å `sudo` –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥–æ–π docker

```bash
# –î–æ–±–∞–≤–∏—Ç—å —Å–µ–±—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER

# –í–ê–ñ–ù–û: –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É!
# –í—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ –æ–±—Ä–∞—Ç–Ω–æ, –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä
```

**–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞—Ö–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ**:
```bash
# –ë–µ–∑ sudo!
docker ps
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ (–±–µ–∑ –æ—à–∏–±–æ–∫)
```

---

## üìÑ –†–∞–∑–±–æ—Ä docker-compose.yml

### –í–∞—à —Ñ–∞–π–ª (—É–∂–µ —Å–æ–∑–¥–∞–Ω):

```yaml
version: '3.8'

services:
  # ===================================
  # MongoDB - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  # ===================================
  mongodb:
    image: mongo:7                    # –û–±—Ä–∞–∑ MongoDB –≤–µ—Ä—Å–∏–∏ 7
    container_name: icore-mongodb     # –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    ports:
      - "27017:27017"                 # –ü–æ—Ä—Ç: localhost:27017 ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:27017
    environment:                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
      MONGO_INITDB_ROOT_USERNAME: admin
      MONGO_INITDB_ROOT_PASSWORD: password123
    volumes:                          # –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—Ä–æ–ø–∞–¥—É—Ç)
      - mongodb_data:/data/db
    networks:                         # –°–µ—Ç—å –¥–ª—è —Å–≤—è–∑–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
      - icore-network

  # ===================================
  # Redis - –ö–µ—à –∏ –æ—á–µ—Ä–µ–¥–∏
  # ===================================
  redis:
    image: redis:7-alpine             # –û–±—Ä–∞–∑ Redis (alpine = –º–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä)
    container_name: icore-redis
    ports:
      - "6379:6379"                   # –ü–æ—Ä—Ç Redis
    volumes:
      - redis_data:/data              # –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
    networks:
      - icore-network

  # ===================================
  # Backend - NestJS API
  # ===================================
  backend:
    build:
      context: ./backend              # –ü–∞–ø–∫–∞ —Å Dockerfile
      dockerfile: Dockerfile
    container_name: icore-backend
    ports:
      - "3001:3001"                   # API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3001
    environment:
      NODE_ENV: development
      PORT: 3001
      MONGODB_URI: mongodb://admin:password123@mongodb:27017/icore?authSource=admin
      REDIS_HOST: redis
      REDIS_PORT: 6379
      JWT_SECRET: your-super-secret-jwt-key-change-in-production
      JWT_EXPIRES_IN: 7d
    depends_on:                       # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ü–û–°–õ–ï mongodb –∏ redis
      - mongodb
      - redis
    volumes:
      - ./backend:/app                # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ (hot reload)
      - /app/node_modules             # node_modules –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    networks:
      - icore-network
    command: yarn start:dev           # –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

  # ===================================
  # Frontend - Nuxt 3
  # ===================================
  frontend:
    build:
      context: ./frontend
      dockerfile: Dockerfile
    container_name: icore-frontend
    ports:
      - "3000:3000"                   # –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000
    environment:
      NUXT_PUBLIC_API_BASE: http://localhost:3001
      NUXT_PUBLIC_WS_BASE: ws://localhost:3001
    volumes:
      - ./frontend:/app
      - /app/node_modules
      - /app/.nuxt
    networks:
      - icore-network
    depends_on:
      - backend
    command: yarn dev

# ===================================
# Volumes - –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
# ===================================
volumes:
  mongodb_data:                       # –î–∞–Ω–Ω—ã–µ MongoDB —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∑–¥–µ—Å—å
  redis_data:                         # –î–∞–Ω–Ω—ã–µ Redis —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∑–¥–µ—Å—å

# ===================================
# Networks - –°–µ—Ç—å –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
# ===================================
networks:
  icore-network:
    driver: bridge                    # –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
```

### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å:

**image** - –∫–∞–∫–æ–π –æ–±—Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```yaml
image: mongo:7
# mongo - –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
# 7 - –≤–µ—Ä—Å–∏—è
# Docker —Å–∫–∞—á–∞–µ—Ç —Å hub.docker.com
```

**ports** - –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤:
```yaml
ports:
  - "27017:27017"
# localhost:27017 ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:27017
# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è: mongodb://localhost:27017
```

**environment** - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```yaml
environment:
  MONGO_INITDB_ROOT_USERNAME: admin
  MONGO_INITDB_ROOT_PASSWORD: password123
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ process.env
```

**volumes** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤:
```yaml
volumes:
  - ./backend:/app
# –ü–∞–ø–∫–∞ ./backend –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ ‚Üí /app –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
# –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (hot reload)
```

**networks** - —Å–µ—Ç—å –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:
```yaml
networks:
  - icore-network
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –º–æ–≥—É—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É –ø–æ –∏–º–µ–Ω–∏:
# mongodb://mongodb:27017 (–Ω–µ localhost!)
```

**depends_on** - –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞:
```yaml
depends_on:
  - mongodb
  - redis
# Backend –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ü–û–°–õ–ï mongodb –∏ redis
```

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (—Å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –æ–±—Ä–∞–∑–æ–≤):

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
cd /home/linkoln/Project/Icore

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë (–ø–µ—Ä–≤—ã–π —Ä–∞–∑ –¥–æ–ª–≥–æ - —Å–∫–∞—á–∞–µ—Ç –æ–±—Ä–∞–∑—ã)
docker-compose up --build
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç**:
```
1. –°–∫–∞—á–∏–≤–∞–µ—Ç –æ–±—Ä–∞–∑—ã MongoDB, Redis (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)
2. –°–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑—ã Backend –∏ Frontend (Dockerfile)
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```

**–í—ã —É–≤–∏–¥–∏—Ç–µ**:
```
icore-mongodb   | MongoDB started
icore-redis     | Redis ready
icore-backend   | NestJS server listening on port 3001
icore-frontend  | Nuxt ready on http://localhost:3000
```

### –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–µ (detached mode)
docker-compose up -d

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f backend
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ò —É–¥–∞–ª–∏—Ç—å volumes (–¥–∞–Ω–Ω—ã–µ –ë–î)
docker-compose down -v
```

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```bash
# –°–ø–∏—Å–æ–∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker ps

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–≤–∫–ª—é—á–∞—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)
docker ps -a
```

### –õ–æ–≥–∏:

```bash
# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs

# –õ–æ–≥–∏ —Å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º (–∫–∞–∫ tail -f)
docker-compose logs -f

# –õ–æ–≥–∏ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f backend
docker-compose logs -f mongodb
```

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```bash
# –ó–∞–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä backend (bash)
docker-compose exec backend bash

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã:
yarn add some-package
yarn start
ls -la

# –í—ã–π—Ç–∏: Ctrl+D –∏–ª–∏ exit
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
docker-compose restart backend

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d --build backend
```

### –û—á–∏—Å—Ç–∫–∞:

```bash
# –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune

# –£–¥–∞–ª–∏—Ç—å –≤—Å—ë –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
docker system prune
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ—Å–ª–µ `docker-compose up`:

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**:
```bash
docker ps
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```
icore-mongodb
icore-redis
icore-backend
icore-frontend
```

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MongoDB**:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ MongoDB
docker-compose exec mongodb mongosh -u admin -p password123

# –í–Ω—É—Ç—Ä–∏ mongosh:
show dbs
use icore
show collections
exit
```

**3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Backend**:
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ curl:
curl http://localhost:3001
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç NestJS
```

**4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Frontend**:
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
http://localhost:3000
# –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ Nuxt
```

**5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redis**:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Redis
docker-compose exec redis redis-cli

# –í–Ω—É—Ç—Ä–∏ redis-cli:
PING
# –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏: PONG
exit
```

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç

```
Error: bind: address already in use
```

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ù–∞–π—Ç–∏ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 27017 (–Ω–∞–ø—Ä–∏–º–µ—Ä)
sudo lsof -i :27017

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
sudo kill -9 <PID>

# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ docker-compose.yml:
ports:
  - "27018:27017"  # –¢–µ–ø–µ—Ä—å MongoDB –Ω–∞ localhost:27018
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Permission denied

```
permission denied while trying to connect to the Docker daemon
```

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –≥—Ä—É–ø–ø–µ docker
sudo usermod -aG docker $USER

# –ü–µ—Ä–µ–∑–∞–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É!
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Backend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ MongoDB

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**:
```bash
# –õ–æ–≥–∏ backend
docker-compose logs backend

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Successfully connected to MongoDB"
```

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MONGODB_URI –≤ docker-compose.yml
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑—ã
docker-compose up --build

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å
docker-compose up -d --build backend
```

---

## üéì Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å Docker

### –¢–∏–ø–∏—á–Ω—ã–π –¥–µ–Ω—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# –£—Ç—Ä–æ - –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
cd /home/linkoln/Project/Icore
docker-compose up -d

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç–µ –∫–æ–¥ –≤ backend/ –∏–ª–∏ frontend/
# –ò–∑–º–µ–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è (hot reload)

# –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
docker-compose logs -f backend

# –î–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π –ø–∞–∫–µ—Ç?
docker-compose exec backend yarn add some-package
# –ò–õ–ò –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
docker-compose up -d --build backend

# –í–µ—á–µ—Ä - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
docker-compose down
```

### Hot Reload —Ä–∞–±–æ—Ç–∞–µ—Ç!

```
–ò–∑–º–µ–Ω–∏–ª–∏ backend/src/app.controller.ts
‚Üí NestJS –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç —Å–µ—Ä–≤–µ—Ä
‚Üí –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä!

–ò–∑–º–µ–Ω–∏–ª–∏ frontend/app/pages/index.vue
‚Üí Nuxt –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
‚Üí –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä!
```

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å Docker

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         –í–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä (localhost)           ‚îÇ
‚îÇ                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ       Docker Network (bridge)         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  MongoDB    ‚îÇ  ‚îÇ    Redis     ‚îÇ  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  :27017     ‚îÇ  ‚îÇ    :6379     ‚îÇ  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ                ‚îÇ          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ    Backend      ‚îÇ         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ  NestJS :3001   ‚îÇ         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ    Frontend     ‚îÇ         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îÇ  Nuxt 3 :3000   ‚îÇ         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚ñ≤              ‚ñ≤
         ‚îÇ              ‚îÇ
   localhost:3001  localhost:3000
   (Backend API)   (Frontend Site)
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª docker –∏ docker-compose (`sudo pacman -S docker docker-compose`)
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª Docker service (`sudo systemctl start docker`)
- [ ] –î–æ–±–∞–≤–∏–ª –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ (`sudo systemctl enable docker`)
- [ ] –î–æ–±–∞–≤–∏–ª—Å—è –≤ –≥—Ä—É–ø–ø—É docker (`sudo usermod -aG docker $USER`)
- [ ] –ü–µ—Ä–µ–∑–∞—à—ë–ª –≤ —Å–∏—Å—Ç–µ–º—É
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª docker –±–µ–∑ sudo (`docker ps`)
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª –ø—Ä–æ–µ–∫—Ç (`docker-compose up`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ –≤—Å–µ 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª MongoDB (mongosh)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª Backend (http://localhost:3001)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª Frontend (http://localhost:3000)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª Redis (redis-cli)

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Docker:
1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: `docker-compose up`
2. ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ Day 1 –∑–∞–¥–∞–Ω–∏—è–º!

**–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è (hot reload)!**

---

**–£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ Docker? –°–∫–∞–∂–∏—Ç–µ "Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω" –∏ –Ω–∞—á–Ω—ë–º Day 1! üöÄ**
