# –òCore Messenger

–ó–∞—â–∏—â–µ–Ω–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å end-to-end —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

### Frontend
- **Nuxt 4** - Framework –Ω–∞ –æ—Å–Ω–æ–≤–µ Vue 3
- **Vue 3** - Progressive JavaScript Framework
- **Pinia** - State Management
- **SASS** - CSS Preprocessor
- **Socket.io Client** - Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- **VueUse** - –ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–π –¥–ª—è Vue

### Backend
- **NestJS** - Progressive Node.js Framework
- **Node.js** - JavaScript Runtime
- **MongoDB** - NoSQL Database
- **Mongoose** - MongoDB ODM
- **JWT** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Redis** - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ Pub/Sub
- **WebSocket** - Real-time –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- **WebRTC** - –í–∏–¥–µ–æ/–∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–∏
- **Socket.io** - WebSocket Library

### DevOps
- **Docker** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Docker Compose** - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- **Yarn** - Package Manager

## üîê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### End-to-End Encryption (E2EE)

- **–ê–ª–≥–æ—Ä–∏—Ç–º**: AES-GCM (256-bit)
- **–ö–ª—é—á**: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∏–∑ passphrase –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ PBKDF2
- **–û–±–º–µ–Ω –∫–ª—é—á–∞–º–∏**: Diffie-Hellman –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –°–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö–ª—é—á–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç –∫–ª–∏–µ–Ω—Ç–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ú–æ–¥—É–ª—å–Ω—ã–π –ú–æ–Ω–æ–ª–∏—Ç

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ **Modular Monolith** - –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–Ω–æ–ª–∏—Ç–æ–º –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏.

**–ú–æ–¥—É–ª–∏ Backend:**
- `auth` - JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `users` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `messages` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- `chats` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏/–∫–æ–º–Ω–∞—Ç–∞–º–∏
- `websocket` - Real-time —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ WebSocket
- `webrtc` - –°–∏–≥–Ω–∞–ª–∏–Ω–≥ –¥–ª—è –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ –∑–≤–æ–Ω–∫–æ–≤
- `encryption` - –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js >= 20
- Yarn >= 1.22
- Docker –∏ Docker Compose (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
cd icore-messenger
```

#### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

```bash
cd backend
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
yarn install
```

#### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

```bash
cd ../frontend
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
yarn install
```

### –ó–∞–ø—É—Å–∫ —Å Docker

```bash
# –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞
cd ..

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å
docker-compose ps
```

**–î–æ—Å—Ç—É–ø:**
- Frontend: http://localhost:3000
- Backend API: http://localhost:3001
- MongoDB: localhost:27017
- Redis: localhost:6379

### –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

#### Terminal 1 - MongoDB –∏ Redis

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–æ–ª—å–∫–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
docker-compose up -d mongodb redis
```

#### Terminal 2 - Backend

```bash
cd backend
yarn start:dev
```

#### Terminal 3 - Frontend

```bash
cd frontend
yarn dev
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Backend API Endpoints

```
POST   /api/auth/register     - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST   /api/auth/login        - –í—Ö–æ–¥
GET    /api/users/me          - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
GET    /api/chats             - –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤
POST   /api/chats             - –°–æ–∑–¥–∞—Ç—å —á–∞—Ç
GET    /api/messages/:chatId  - –ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
POST   /api/messages          - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
```

### WebSocket Events

```
connect              - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
disconnect           - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ
message:send         - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
message:receive      - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
typing:start         - –ù–∞—á–∞–ª–æ –ø–µ—á–∞—Ç–∏
typing:stop          - –ö–æ–Ω–µ—Ü –ø–µ—á–∞—Ç–∏
user:online          - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–Ω–ª–∞–π–Ω
user:offline         - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ñ—Ñ–ª–∞–π–Ω
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ú–æ–¥—É–ª—è (NestJS)

```
modules/[module-name]/
‚îú‚îÄ‚îÄ [module-name].module.ts      # –ú–æ–¥—É–ª—å
‚îú‚îÄ‚îÄ [module-name].service.ts     # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ [module-name].controller.ts  # HTTP endpoints
‚îú‚îÄ‚îÄ [module-name].gateway.ts     # WebSocket (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
‚îú‚îÄ‚îÄ dto/                         # Data Transfer Objects
‚îú‚îÄ‚îÄ entities/                    # Mongoose Schemas
‚îî‚îÄ‚îÄ interfaces/                  # TypeScript Interfaces
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è

```bash
cd backend
nest g module modules/[name]
nest g service modules/[name]
nest g controller modules/[name]
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- Bcrypt –¥–ª—è —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è frontend
- Rate limiting –Ω–∞ API endpoints
- Input validation —á–µ—Ä–µ–∑ class-validator
- Helmet.js –¥–ª—è HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üì¶ –°–±–æ—Ä–∫–∞ –¥–ª—è Production

### Backend

```bash
cd backend
yarn build
yarn start:prod
```

### Frontend

```bash
cd frontend
yarn build
yarn preview
```

### Docker Production Build

```bash
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

## ü§ù Contributing

1. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/AmazingFeature`)
2. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some AmazingFeature'`)
3. Push –≤ branch (`git push origin feature/AmazingFeature`)
4. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìù License

MIT License

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–í–∞—à–µ –ò–º—è - [@yourhandle](https://github.com/yourhandle)

---

**–°—Ç–∞—Ç—É—Å:** üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
