// ===================================
// üéØ –ó–ê–î–ê–ù–ò–ï 3: –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è UserService
// ===================================

// TODO: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã
// import { User, RegisterDto, LoginDto, AuthResponse } from '@/types/user.interface'

/**
 * –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
 * 
 * –≠—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç (contract) –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å UserService.
 * –õ—é–±–æ–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π implements —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –æ–±—è–∑–∞–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã.
 * 
 * –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
 * 1. Dependency Inversion (D –≤ SOLID) - –∑–∞–≤–∏—Å–∏–º –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏
 * 2. –õ–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å mock –¥–ª—è —Ç–µ—Å—Ç–æ–≤
 * 3. –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (API ‚Üí LocalStorage ‚Üí Mock)
 */
// TODO: export interface IUserService { ... }

import { User, RegisterDto, LoginDto, AuthResponse } from "../types/user.interface";

export interface IUserService {
    findById(id: string): Promise<User | null>
    findByEmail(email: string): Promise<User | null>
    create(dto: RegisterDto): Promise<User | null>
    uptade(id: string, data: Partial<User>): Promise<User>
    login(dto: LoginDto): Promise<AuthResponse | null>
    delete(id: string): Promise<void>
}

// ===================================
// üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–µ—Ç–æ–¥–∞–º:
// ===================================

/**
 * –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
 * 
 * @param id - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @returns Promise —Å User –∏–ª–∏ null –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
 * 
 * –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞:
 * findById(id: string): Promise<User | null>
 */


/**
 * –ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email
 * 
 * @param email - Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @returns Promise —Å User –∏–ª–∏ null –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
 * 
 * –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞:
 * findByEmail(email: string): Promise<User | null>
 */


/**
 * –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
 * 
 * @param dto - –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
 * @returns Promise —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º User
 * 
 * –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞:
 * create(dto: RegisterDto): Promise<User>
 */


/**
 * –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * 
 * @param id - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @param data - –ß–∞—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (Partial<User>)
 * @returns Promise —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º User
 * 
 * –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Partial<User> –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –≤—Å–µ –ø–æ–ª—è User —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏
 * –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ name, –Ω–µ —Ç—Ä–æ–≥–∞—è email –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
 * 
 * –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞:
 * update(id: string, data: Partial<User>): Promise<User>
 */


/**
 * –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * 
 * @param id - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @returns Promise<void> (–Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç)
 * 
 * –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞:
 * delete(id: string): Promise<void>
 */


/**
 * –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * 
 * @param dto - –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞
 * @returns Promise —Å User –∏ —Ç–æ–∫–µ–Ω–æ–º
 * 
 * –°–∏–≥–Ω–∞—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–∞:
 * login(dto: LoginDto): Promise<AuthResponse>
 */


// ===================================
// üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏:
// ===================================

// 1. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ—Ç–æ–¥–∞–º–∏ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
//    interface IService {
//      methodName(param: Type): ReturnType
//    }

// 2. Async –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç Promise:
//    async findById(id: string): Promise<User | null>

// 3. User | null –æ–∑–Ω–∞—á–∞–µ—Ç "–ª–∏–±–æ User, –ª–∏–±–æ null":
//    return user ?? null

// 4. Partial<User> - utility type, –¥–µ–ª–∞–µ—Ç –≤—Å–µ –ø–æ–ª—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏:
//    type Partial<User> = {
//      id?: string
//      name?: string
//      email?: string
//      ...
//    }

// 5. Promise<void> - –ø—Ä–æ–º–∏—Å –∫–æ—Ç–æ—Ä—ã–π –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
//    async delete(id: string): Promise<void> {
//      await api.delete(`/users/${id}`)
//      // –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
//    }

// ===================================
// üéØ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
// ===================================

// –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫:
// 
// class UserService implements IUserService {
//   async findById(id: string): Promise<User | null> {
//     // —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
//   }
//   
//   async create(dto: RegisterDto): Promise<User> {
//     // —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
//   }
//   
//   // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
// }
//
// –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ - TypeScript –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É!

// ===================================
// ü§î –ü–æ–¥—É–º–∞–π—Ç–µ:
// ===================================

// –í–æ–ø—Ä–æ—Å 1: –ü–æ—á–µ–º—É –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç Promise?
// –û—Ç–≤–µ—Ç: –ó–∞–ø—Ä–æ—Å—ã –∫ API –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º async/await

// –í–æ–ø—Ä–æ—Å 2: –ü–æ—á–µ–º—É findById –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç User | null?
// –û—Ç–≤–µ—Ç: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º ID –º–æ–∂–µ—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å

// –í–æ–ø—Ä–æ—Å 3: –ü–æ—á–µ–º—É –≤ update –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Partial<User>?
// –û—Ç–≤–µ—Ç: –ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è, –Ω–µ –≤—Å–µ —Å—Ä–∞–∑—É

// –í–æ–ø—Ä–æ—Å 4: –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –µ—Å–ª–∏ –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å?
// –û—Ç–≤–µ—Ç: SOLID - Dependency Inversion. –ó–∞–≤–∏—Å–∏–º –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –Ω–µ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
//        –õ–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å mock –¥–ª—è —Ç–µ—Å—Ç–æ–≤.

// ===================================
// üìñ –°–ø—Ä–∞–≤–∫–∞:
// ===================================

// –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
// - Interfaces: https://www.typescriptlang.org/docs/handbook/2/objects.html
// - Promise: https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#promise
// - Utility Types: https://www.typescriptlang.org/docs/handbook/utility-types.html
// - Partial: https://www.typescriptlang.org/docs/handbook/utility-types.html#partialtype
